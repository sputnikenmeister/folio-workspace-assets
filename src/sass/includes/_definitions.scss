// ------------------------------------
// Globals
// ------------------------------------

// Sync'd with sass-json-vars plugin
@import "variables.json";

// Size base units
$hu: 				map-get($units, hu_px) * 1px;
$vu: 				map-get($units, vu_px) * 1px;
// Time base units (transitions/animations)
$delay_interval:	map-get($transitions, delay_interval_ms) * 0.001s;
$duration: 			map-get($transitions, duration_ms) * 0.001s;
$ease:				map-get($transitions, ease);
// transition/animation timing function
$delay: 			$duration + $delay_interval;

// ------------------------------------
// Layout
// ------------------------------------

$breakpoint_large: 			1024px;
$gutter: 					2 * $hu;
$page_margin_left: 			2 * $hu;
$page_margin_right: 		2 * $hu;

$page_width: 				34 * $hu;//700px;
$page_width_large: 			47 * $hu;//940px;
$aside_width:				10 * $hu;
$aside_width_large: 		11 * $hu;
$main_width:				$page_width - $aside_width;
$main_width_large:			$page_width_large - $aside_width_large;

// ------------------------------------
// Colors: private (not to be used directly)
// ------------------------------------

$light_fgcolor: 	hsl(47, 5%, 15%);
$light_bgcolor: 	hsl(47, 5%, 95%);

$dark_fgcolor: 		hsl(47, 5%, 95%);
$dark_bgcolor: 		hsl(47, 5%, 25%);

$inverse_color: $dark_fgcolor;
$inverse_background_color: $dark_bgcolor;

// - - - - - - - - - - - - - - - - - -
// Colors: public
// - - - - - - - - - - - - - - - - - -

// main colors
$color: $light_fgcolor;
$background_color: $light_bgcolor;

// link-colors
$link_color: hsl(10, 80%, 50%); //scale_color($color, $red: 60%);
$link_hover_color: scale_color($link_color, $lightness: 15%);//hsl(10, 95%, 60%);
$link_down_color: scale_color($link_color, $lightness: -15%);//hsl(10, 95%, 30%);

// selection-colors
$selection_fgcolor: hsl(203, 100%, 50%);
$selection_bgcolor: hsl(203, 100%, 90%);

$royal_blue_color:	#204980;
$royal_ivory_color:	#FEFCE7;

// ------------------------------------
// Typefaces: private (not to be used directly)
// ------------------------------------

// Font fallback lists
$mono_fallback: Consolas, Menlo, "Andale Mono", monospace;
$humanist_fallback: "Lucida Grande","Lucida Sans", Calibri, Tahoma, Verdana, Kalimati, sans-serif;
$grotesque_fallback: "Helvetica", sans-serif;
$modern_fallback: "georgia", sans-serif;

// Webfonts included at compile-time
//@import "fonts/_franklin-gothic-fs";
$font_webfont_sans: "Franklin Gothic FS", $grotesque_fallback;
//@import "fonts/_old-standard-tt";
//$font_webfont_serif: "Old Standard TT", $modern_fallback;

// - - - - - - - - - - - - - - - - - -
// Typefaces: public
// - - - - - - - - - - - - - - - - - -

// font-family
$large_font_family: $font_webfont_sans;
$small_font_family: $humanist_fallback;
$mono_font_family: $mono_fallback;

$base_font: $font_webfont_sans;

// ------------------------------------
// Typography mixins
// ------------------------------------

// helpers
@mixin text_rendering_legibility {
	-webkit-text-rendering: optimizelegibility;
	        text-rendering: optimizelegibility;
}

@mixin text_rendering_speed {
	-webkit-text-rendering: optimizespeed;
	        text-rendering: optimizespeed;
}

@mixin font_smoothing {
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

@mixin ellipsis ($display: block) {
	display: $display;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

%heading_base {
//	font-family: $large_font_family;
	letter-spacing: -1px;
	font-kerning: normal;
	@include text_rendering_legibility();
	@include font_smoothing();
}

// h1 font-size: 3.42857rem; letter-spacing: -2px;
// h2 font-size: 2.14286rem; letter-spacing: -1px;

//@mixin heading_font($size: 24px, $weight: 600, $lead: 24px) {
@mixin heading_font($size: 1.99rem, $weight: 600, $lead: 1) {
	font-size: $size;
	font-weight: $weight;
	line-height: $lead;
//	font: $weight #{$size + "/" + $lead} $large_font_family;
//	font: $weight $size/$lead $large_font_family;
	letter-spacing: -1px;
//	font-kerning: normal;
	@include text_rendering_legibility();
	@include font_smoothing();
}

@mixin paragraph_font($size: 1rem, $weight: 400, $lead: 1.5) {
//	font: $weight #{$size + "/" + $lead} inherit;
	font-size: $size;
	font-weight: $weight;
	line-height: $lead;
}
// 85% / 1.76470
// 0.85rem / 1.5rem;
@mixin small_caps($size: 85%, $weight: 600, $lead: 1.76470){
	font-size: $size;
	font-weight: $weight;
	line-height: $lead;
	letter-spacing: 1px;
	vertical-align: baseline;
	text-transform: uppercase;
}

%large_text p {
//	@include heading_font($size: 2.5rem, $weight: 300, $lead: 0.960em);
	@include heading_font($size: 28px, $weight: 300, $lead: 30px);
//	transform: translate3d(-2px,0,0);
//	transform: translateX(-2px);
	margin-left: -2px;
	margin-right: 2px;
	margin-top: 0;
	margin-bottom: 0.5em;
	&:first-child {
		margin-top: -0.15em;
	}
}

@mixin text_outline($color: black, $radius: 1px) {
	// PI/4=0.78539816339 1/(PI/2)=1.27323954474
	$r1: $radius;// top, bottom, left, right
	$r2: $radius;// top-left, top-right, bottom-left, bottom-right
	text-shadow:
		// $color 0 -#{$r1} 0, $color 0 #{$r1} 0,
		$color -#{$r1} 0 0, $color #{$r1} 0 0,
		$color -#{$r2} -#{$r2} 0, $color #{$r2} #{$r2} 0,
		$color #{$r2} -#{$r2} 0, $color -#{$r2} #{$r2} 0;
}

// ------------------------------------
// transitions
// ------------------------------------

@mixin skip_transitions {
	transition: none 0s 0s !important;
	// transition-property: none !important;
	// transition-duration: 0s !important;
	// transition-delay: 0s !important;
}

//%skip_transitions {
//	@include skip_transitions;
//}
