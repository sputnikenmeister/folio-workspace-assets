/**
 * Debug colors
 * @see http://dev.w3.org/csswg/css-color/#named-colors
 * ultralight colors: lavender,seashell,aliceblue,ghostwhite
 */

/* lightblue: 		hsl(195, 53%, 79%) */
$lightblue: hsla(195, 75%, 50%, 1);
/* deepbluesky: 	hsl(195, 100%, 50%) */
$deepskyblue: hsla(195, 100%, 50%, 1);
/* lightcoral: 		hsl(6, 93%, 71%) */
$lightcoral: hsla(6, 93%, 71%, 1);
/* salmon: 			hsl(6, 93%, 71%) */
$salmon: hsla(6, 93%, 71%, 1);
/* thistle: 		hsl(300, 24%, 80%) */
$thistle: hsla(300, 24%, 80%, 1);
/* darkseagreen:	hsl(120, 25%, 65%) */
$darkseagreen: hsla(120, 25%, 50%, 1); //hsl(120, 25%, 65%)
/* darkolivegreen:	hsl(82, 39%, 30%) */
$darkolivegreen: hsla(82, 39%, 50%, 1); //hsl(82, 39%, 30%);
/* indigo:			hsl(275, 100%, 25%); */
$indigo: hsla(275, 100%, 25%, 1);

@mixin debug_outline($width: 1px, $style: dashed, $color: inherit, $opacity: null, $offset: null) {
	outline: $width $style if($opacity == null, $color, transparentize($color, $opacity));
	outline-offset: if($offset == null, -$width, $offset);
}
@mixin debug_outline_thin($width: 1px, $style: dashed, $color: inherit, $offset: null) {
	@include debug_outline($width, $style, $color, null, $offset);
}
@mixin debug_outline_thick($style: solid, $color: $thistle, $opacity: 0.8) {
	@include debug_outline_thin(1rem, $style, $color, $opacity);
}

// -----------------------------------
// .debug-tx
// -----------------------------------
.debug-tx {
	// *[style*="transition"] {
	// 	@include debug_outline_thin(1px, dotted, $darkseagreen);
	// }
	// #sitename,
	// .transform-wrapper {
	// 	// height: 1rem;
	// 	width: $default_aside_width;
	// 	height: $default_nav_height;
	// 	@include media(desktop-small) {
	// 		width: $wide_aside_width;
	// 		height: $large_nav_height;
	// 	}
	// }
	#navigation.container-changing {
		@include debug_outline(0.5rem, dashed, $lightcoral, 0.75);
	}
	#sitename,
	.article-button {
		&[style*="transition"] {
			@include debug_outline(4px, dashed, $darkseagreen, 0.25, -4px);
		}
	}
	#article-list-wrapper,
	#site-name-wrapper {
		&[style*="transition"] {
			@include debug_outline(4px, dashed, $deepskyblue, 0.25, -4px);
		}
	}

	.transform-wrapper[style*="transition"] {
		@include debug_outline(2px, solid, $lightcoral, 0.35, -4px);
		// background-color: transparentize($lightcoral, 0.5);
	}
	.list-group span[style*="transition"] {
		@include debug_outline(2px, dashed, $lightcoral, 0.35);
		// background-color: transparentize($lightcoral, 0.5);
	}
	.list[style*="transition"] {
		@include debug_outline(2px, dashed, $lightcoral, 0.35);
		// background-color: transparentize($lightblue, 0.5);
	}
	.carousel,
	.stack {
		&[style*="transition"] {
			@include debug_outline(2px, dashed, $deepskyblue, 0.5);
			outline-style: dashed !important;
		}
	}
}

// -----------------------------------
// .debug-blocks
// -----------------------------------

.debug-blocks {

	@include debug_outline(0.25rem, solid, lightgreen);
	// *[data-cid] {
	// 	@include debug_outline_thin($width: 0.25rem, $style: solid, $color: transparentize($thistle, 0.5));
	// }
	// .list-item[data-cid] {
	// 	// @include debug_outline_thin($width: 1px, $style: dashed, $color: transparentize($darkseagreen, 0.2));
	// 	background-color: transparentize($thistle, 0.8);
	// }

	#navigation {
		@include debug_outline(0.5rem, solid, $lightcoral, 0.75);
		&.container-changing {
			@include debug_outline(0.5rem, dashed, $lightcoral, 0.4);
		}
		#site-name-wrapper,
		.list {
			@include debug_outline_thin(1px, solid, Crimson, -1px);
			// @include debug_outline_thick($color: $lightcoral);
			background-color: transparentize($lightcoral, 0.9);
		}
		#site-name,
		.article-button,
		.list .list-group,
		.list .list-item {
		// #site-name a,
		// .article-button a,
		// .list .list-group .label span,
		// .list .list-item .label {
			&, .label { background-color: transparentize($lightcoral, 0.7);
			// @include debug_outline_thin(1px, solid, $lightcoral);
			}
		}
		.graph {
			@include debug_outline(2px, dashed, $darkseagreen, 0.25, 0);
		}
	}
	#content {
		@include debug_outline(0.5rem, solid, $deepskyblue, 0.75);
		&.container-changing {
			@include debug_outline(0.5rem, dashed, $deepskyblue, 0.4);
		}
		.article-view {
			@include debug_outline(0.5rem, solid, $deepskyblue, 0.7);
			& > * {
				background-color: transparentize($lightblue, 0.8);
				@include debug_outline_thin(1px, dashed, $deepskyblue);
			}
		}
		.stack {
			.stack-item {
				@include debug_outline_thin(1px, solid, RoyalBlue);
			}
			.content {
				background-color: transparentize($lightblue, 0.9);
				& > * {
					background-color: transparentize($lightblue, 0.7);
				}
			}
		}
		.carousel {
			background-color: transparentize($lightblue, 0.9);
			// @include debug_outline(1rem, solid, $deepskyblue, 0.8);
			&.scrolling {
				@include debug_outline(1rem, solid, $deepskyblue, 0.7);
				&.panning {
					@include debug_outline(1rem, solid, $deepskyblue, 0.3);
				}
			}
			// &[style*="transition"] {
			// 	@include debug_outline(0.25rem, dashed, $deepskyblue, 0.5);
			// 	outline-style: dashed !important;
			// }
		}
		.carousel-item {
			// @include debug_outline($color: $deepskyblue);
			@include debug_outline_thin(1px, solid, $deepskyblue, 0.5);
		}
		.empty-item {
			@include debug_outline_thin(1px, solid, RoyalBlue, -1px);
			.content {
				@include debug_outline_thin(1px, solid, RoyalBlue, -1px);
				//background-color: transparentize($lightblue, 0.7);
			}
		}
		.media-item {
			background-color: transparentize($lightblue, 0.7);
			// .content {}
			.play-toggle-hitarea {
				background-color: transparentize($lightblue, 0.5);
			}
		}
	}
}

// -----------------------------------
// .debug-grid
// -----------------------------------

// .debug-grid-bg {
// 	// background-color: transparent;
// 	background-image: image-url("debug/debug-background.svg");
// 	background-repeat: no-repeat;
// 	background-position: 50% 3px;
// 	background-size: #{$default_page_width + $hu*2} 100%; //1600px;
//
// 	// @include media(desktop-small) {
// 	@at-root .desktop-small & {
// 		background-position: 50% 0;
// 		background-size: #{$wide_page_width + $hu*2} 100%; //1600px;
// 	}
// 	// @include media(fullwidth) {
// 	@at-root .fullwidth & {
// 		background-position: 6px 0;
// 		background-size: 100% 100%;
// 	}
// }

#grid-wrapper {
	display: none;
	overflow: hidden;
	position: absolute;

	@at-root .debug-grid-bg & {
		display: block;
	}

	top: 0;//$default_nav_top;
	right: 0; bottom: 0; left: 0;

	@at-root .desktop-small & {
		// top: $large_nav_top;
	}
	@at-root .fullwidth & {
		// top: $small_nav_top;
		left: $margin_left;
		right: $margin_right;
	}
}

svg#debug-grid {
	width: 100%;
	max-width: $default_page_width;
	position: absolute;
	height: 100%;
	margin: 0 auto;
	left: 0; right: 0;

	@at-root .desktop-small & {
		max-width: $wide_page_width;
	}
	@at-root .fullwidth & {
		max-width: $small_page_width_max;
		margin: 0;
	}

	// -----------------------------------
	// definitions
	// -----------------------------------

	.baseline, .vguide, .hguide {
		stroke-width: 1px;
	}

	#pat-baseline-12px,
	#pat-baseline-24px {
		stroke: hsl(276,93%,50%);
	}
	#pat-baseline-10px,
	#pat-baseline-20px {
		stroke: hsl(336,93%,50%);
	}

	/* baseline */
	#debug-grid-body {
		opacity: 0.5;
	}

	/* baseline */
	#baseline {
		opacity: 0.25;
		fill: url("#pat-baseline-12px");
		@at-root .fullwidth-small & {
			fill: url("#pat-baseline-10px");
		}
	}
	#baseline-content {
		// opacity: 0.5;
		fill: url("#pat-baseline-24px");
		@at-root .fullwidth & {
			fill: none;//url("#pat-baseline-10px");
		}
	}
	/* Guides columns & margins definitions */
	#columns {
		fill: url("#pat-cols-220px");
		@at-root .fullwidth & {
			display: none;
		}
	}
	.vguide {
		stroke: hsl(236,50%,40%);
		stroke-opacity: 0.5;
		.gutter {
			stroke: hsl(276,50%,50%);
			stroke-opacity: 0.3;
		}
	}
	.hguide {
		stroke: hsl(216,100%,50%);
		stroke-opacity: 0.75;
	}

	// -----------------------------------
	// Positioning
	// -----------------------------------

	/* Horizontal guides */
	#debug-grid-container {
		transform: translate(0, $default_nav_top);
		@at-root .desktop-small & {
			transform: translate(0, $large_nav_top);
		}
		@at-root .fullwidth & {
			transform: translate(0, $small_nav_top);
		}
		#gnv0, #gct0 {
			stroke-dasharray: 0.25rem;
			// stroke-opacity: 1;
		}
		#gnv1, #gct1 {
			transform: translate(0, 3rem);
			stroke-dasharray: 0.5rem 0.75rem;
			// stroke-opacity: 1;
		}
	}
	#debug-grid-content {
		transform: translate(0, $default_nav_height);
		@at-root .desktop-small & {
			transform: translate(0, $large_nav_height);
		}
		@at-root .fullwidth & {
			transform: translate(0, $small_nav_height);
		}
	}

	/* Vertical guides instances */
	#gl0 { transform: translate(0, 0); }
	#gr0 { transform: translate(0, 0); }

	#gl1 { transform: translate($hu, 0); }
	#gr1 { transform: translate(-$hu, 0); }

	// #gm0 { transform: translate(-2rem, 0); }
	// #gm1 { transform: translate(2rem, 0); }

	@at-root .fullwidth & {
		#gl0 { transform: translate($margin_left, 0); }
		#gr0 { transform: translate(-$margin_right, 0); }
		#gl1 { transform: translate(#{$margin_left + $content_margin_left}, 0); }
		#gr1 { transform: translate(-#{$margin_right + $content_margin_right}, 0); }

		// #gm  { transform: translate(#{$margin_right - $margin_left}, 0); }
		// #gm1 { transform: translate(-#{$content_margin_right}, 0); }
		// #gm0 {
		// 	stroke: green; stroke-opacity: 1;
		// 	transform: translate(
		// 		-#{($margin_left + $margin_right) - ($content_margin_left + $content_margin_right)}, 0);
		// }
	}
}

// -----------------------------------
// .debug-grid + mdown
// -----------------------------------
@mixin _debugSelectorInContent($selectors...) {
	#{$selectors} {
		@content;
	}
	@each $sel in $selectors {
		#{$sel}::before {
			content: #{"\'"+$sel+"\'"};
		}
	}
}
.debug-mdown .mdown {
	@include _debugSelectorInContent(h1,h2,h3,h4,h5,h6,p,ol,ul,dl) {
		@include debug_outline(1px, solid, $darkolivegreen, 0.1, -1px);
		background-color: transparentize($darkolivegreen, 0.9);
		position: relative;
		&::before {
			position: absolute;
			display: block;
			right: 0;
			bottom: 0;
			height: 1.2em;
			padding: 0.1em 0.2em;
			margin: 0;
			color: white;
			background: $darkolivegreen; //#5d7533;
			font: 800 8px/120% $small_font;
			text-transform: uppercase;
			letter-spacing: normal;
		}
	}
}
