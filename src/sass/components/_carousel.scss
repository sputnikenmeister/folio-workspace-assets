
/* carousel layout */
.image-list {
	overflow: hidden;
	padding: 1.5rem 0; height: 100%;
	margin: -1.5rem 0; width: 100%; min-width: $page-width;
}
.image-item {
	position: absolute;
}

.image-item {
	width: $page-width;
	left: calc(50% - #{$page-width/2});
	height: calc(100% - 3rem);
	@media only screen and (min-width: $breakpoint-large) {
		width: $page-width-large;
		left: calc(50% - #{$page-width-large/2});
	}
}

.image-list.animate > .image-item {
	transition: all 0.4s;
}

.image-item {
	&, * {
		user-select: none;
		cursor: default;
	}
	img, .placeholder {
		position: absolute;
		display: block;
		right: $page-margin;
	}

	// Image
	img {
		border: 0 none;
		background-color: lighten($inverse-background-color, 47%);
	}
	img {
		transition: opacity 0.5s 0.1s;
		visibility: hidden;
		opacity: 0;
	}
	&.loaded img {
		visibility: visible;
		opacity: 1;
	}
	// &.loading img {
	// 	opacity: 0;
	// }
	// &.error img {
	// 	opacity: 0;
	// }

	// Placeholder
	.placeholder {
		color: $inverse-color;
		background-color: lighten($inverse-background-color, 47%);
		border: 1px solid lighten($inverse-background-color, 42%);
		box-shadow: 0 1rem 1rem -0.5rem hsla(0, 0%, 0%, 0.5);

		@include box-sizing(border-box);
		padding: 1.5rem $gutter;
		.caption {
			@include heading-text;
			@include translateX(-1px);
		}
		.fileinfo {
			font-size: 1.1rem;
		}
	}
	&.error .placeholder {
		transition: background-color 0.5s, border-color 0.5s;
		background-color: lighten($link-color, 5%);
		border-color: lighten($link-color, 0%);
	}

	// Spinner
	.placeholder:after {
		@include spinner-icon;
		@include font-smoothing;
		@include text-rendering-speed;
		font-size: 2rem;
		text-decoration: none;
		position: absolute;
		top: calc(50% - 1em);
		left: calc(50% - 1em);
	}
	&.pending .placeholder:after {
		animation: none;
		visibility: hidden;
		opacity: 0;
	}
	&.loading .placeholder:after {
		animation: spin 2s infinite steps(48), fadeIn 0.5s;
	}
	&.loaded .placeholder:after {
		animation: spin 1s 1 steps(24);
	}
	&.error	.placeholder:after {
		animation: spin 1s 1 steps(24), fadeOut 1s;
		opacity: 0;
	}
}

