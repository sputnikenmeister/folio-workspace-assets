.list.filterable {
	position: relative;

	.list-item {
		display: block;
		// white-space: nowrap;
		// overflow-y: hidden;
		// text-overflow: ellipsis;
		-webkit-transition: translate3d(0,0,0);
		a {
			color: inherit;
		}
	}
	.selected {
		color: $link-color;
	}
	&.collapsed .selected {
		color: inherit;
	}
	&:not(.collapsed) .excluded {
		color: scale_color($color, $lightness: 50%);
	}
}

.list.grouped {
	.list-group {
		display: block;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		-webkit-transition: translate3d(0,0,0);
	}
}

#bundle-list {
	padding-top: 0.25rem;
	min-height: 3rem;

	.list-item {
		@include heading-text;
		@include translateX(-2px);
		width: 100%;
		.completed {
			display: none;
		}
	}
}

#keyword-list {
	padding-top: 0.75rem;
	.list-item {
		// width: 62%;
		margin-left: calc(38% + #{$gutter/2});
		line-height: 1.5rem;
	}
	.list-group {
		span {
			@include small-caps;
		}
		// @include translateY(1px);
		width: calc(38% - #{$gutter/2});
		line-height: 1.5rem;
		left: 0; position: absolute;
		// float: left; clear: left;
	}
}

/*
 * Animations/Transitions
 */

$collapse-ease: ease;

#bundle-list {
	.list-item {
		max-height: 1.5em;
		visibility: visible;
		opacity: 1;
	}
	&.collapsed {
		.list-item {
			max-height: 0;// watch out!!!
		}
		// .list-item.selected {
		// 	max-height: 1.5em;
		// 	visibility: visible;
		// 	opacity: 1;
		// }
		.list-item:not(.selected) {
			// max-height: 0;
			visibility: hidden;
			opacity: 0;
		}
	}
}

#keyword-list {
	.list-item {
		max-height: 1.5em;
		visibility: visible;
		opacity: 1;
	}
	.list-group {
		visibility: visible;
		opacity: 1;
	}
	&.collapsed {
		.list-item.excluded {
			max-height: 0;
			visibility: hidden;
			opacity: 0;
		}
		.list-group.excluded {
			visibility: hidden;
			opacity: 0;
		}
	}
}

// #bundle-list.animate,
#keyword-list.animate  {
	.list-group, .list-item {
		transition-property: opacity, visibility, max-height;
		transition-timing-function: $collapse-ease, step-start, $collapse-ease;
		transition-duration: 0.3s, 1s, 0.3s;
		transition-delay: 0.7s, 0s, 0.35s;// wait, expand, fadein
	}
	&.collapsed {
		.list-group.excluded, .list-item.excluded {
			transition-timing-function: $collapse-ease, step-end, $collapse-ease;
			transition-delay: 0s, 0s, 0.35s;// fadeout, collapse, wait
		}
		transition: height 1s step-end;
	}
	transition: height 1s step-start;
}

#bundle-list.animate {
	.list-item {
		transition-property: opacity, visibility, max-height;
		transition-timing-function: $collapse-ease, step-start, $collapse-ease;
		transition-duration: 0.3s, 1s, 0.3s;
		transition-delay: 0.7s, 0s, 0.35s;// wait, expand, fadein
	}
	&.collapsed {
		// .list-item.selected {
		// 	transition-timing-function: $collapse-ease, step-start, $collapse-ease;
		// 	transition-delay: 0.35s, 0s, 0.35s;// fadeout, collapse, wait
		// }
		// .list-item:not(.selected) {
		// 	transition-timing-function: $collapse-ease, step-end, $collapse-ease;
		// 	transition-delay: 0.35s, 0s, 0.35s;// fadeout, collapse, wait
		// }
		.list-item:not(.selected) {
			transition-timing-function: $collapse-ease, step-end, $collapse-ease;
			transition-delay: 0s, 0s, 0.35s;// fadeout, collapse, wait
		}
	}
}

/*
$collapse-params: 1s $collapse-ease;

// #keyword-list {
// #keyword-list.animate {
#none.animate {
	// &:not(.collapsed) {
		.list-item { animation: fromCollapsedItem $collapse-params; }
		.list-group { animation: fromCollapsedGroup $collapse-params; }
		// .list-item:not(.excluded) { animation: fromCollapsedItem $collapse-params; }
		// .list-group:not(.excluded) { animation: fromCollapsedGroup $collapse-params; }
	// }
	&.collapsed {
		// .list-item.included { animation: fromCollapsedItem $collapse-params; }
		// .list-group.included { animation: fromCollapsedGroup $collapse-params; }
		// .list-item:not(.included) { animation: toCollapsedItem $collapse-params; }
		// .list-group:not(.included) { animation: toCollapsedGroup $collapse-params; }

		// .list-item:not(.excluded) { animation: fromCollapsedItem $collapse-params; }
		// .list-group:not(.excluded) { animation: fromCollapsedGroup $collapse-params; }
		.list-item.excluded { animation: toCollapsedItem $collapse-params; }
		.list-group.excluded { animation: toCollapsedGroup $collapse-params; }
	}
}

@keyframes fromCollapsedItem {
	0% {
		max-height: 0;
		visibility: hidden;
		opacity: 0;
	}
	30% {
		max-height: 0;
		visibility: visible;
		opacity: 0;
	}
	70% {
		max-height: 1.5em;
		visibility: visible;
		opacity: 0;
	}
	100% {
		max-height: 1.5em;
		visibility: visible;
		opacity: 1;
	}
}

@keyframes toCollapsedItem {
	0% {
		max-height: 1.5em;
		visibility: visible;
		opacity: 1;
	}
	30% {
		max-height: 1.5em;
		visibility: visible;
		opacity: 0;
	}
	70% {
		max-height: 0;
		visibility: visible;
		opacity: 0;
	}
	100% {
		max-height: 0;
		visibility: hidden;
		opacity: 0;
	}
}

@keyframes fromCollapsedGroup {
	0% {
		visibility: hidden;
		opacity: 0;
	}
	30% {
		visibility: visible;
		opacity: 0;
	}
	70% {
		visibility: visible;
		opacity: 0;
	}
	100% {
		visibility: visible;
		opacity: 1;
	}
}

@keyframes toCollapsedGroup {
	0% {
		visibility: visible;
		opacity: 1;
	}
	30% {
		visibility: visible;
		opacity: 0;
	}
	70% {
		visibility: visible;
		opacity: 0;
	}
	100% {
		visibility: hidden;
		opacity: 0;
	}
}*/
