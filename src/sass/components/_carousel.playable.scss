// - - - - - - - - - - - - - - - - - -
// Overlays: VideoRenderer/SequenceRenderer
// - - - - - - - - - - - - - - - - - -
.playable-renderer {
	// .pending-user-resume {}
	// .pending-user-replay {}
	// .pending-network {}
	// .pending-media  {}

	// .overlay
	// - - - - - - - - - - - - - - - - -
	.overlay {
		// display: inline-block;
		position: absolute;
		// top: 0; left: 0;
		// width: 75px;
		// width: 100%;
		// height: 100%;
		// margin: 0 auto;
		
		// svg {
		// 	display: none;
		// 	position: absolute;
		// 	display: block;
		// 	width: 6rem; height: 6rem;
		// 	left: calc(50% - 3rem);
		// 	top: calc(50% - 3rem);
		// }
		
		// box-sizing: border-box;
		// padding-top: calc(50% - 75px);
		// padding-left: calc(50% - 75px);
		// top: 50px; left: 50px; width: 100px; height: 100px;
		// left: calc(50% - 3em); width: 6rem;
		// top: calc(50% - 3em); height: 6rem;
		// visibility: visible;
		// color: rgb(0,0,0);
		// background-color: rgba(255,255,255,0.8);
		// &.over-dark {
		// 	color: rgb(255,255,255);
		// 	background-color: rgba(0,0,0,0.8);
		// }
	}
	// .pending-media .overlay {
	// 	visibility: hidden;
	// }
	
	
	.content-size, .content-pos {
		position: absolute;
		display: inline-block;
		// width: 100%; height: 100%;
		// top: 0; left: 0;
	}
	$symbol-class: ".play-toggle";
	#{$symbol-class} {
		background-size: 6rem 6rem;
		background-position: center;
		background-repeat: no-repeat;
	}
	#{$symbol-class},
	.pending-user-play #{$symbol-class},
	.pending-user-resume #{$symbol-class} {
		background-image: image-url("symbols/playback-play.svg");
		&.over-dark {
			background-image: image-url("symbols/playback-play-dark.svg");
		}
	}
	.pending-user-replay #{$symbol-class} {
		background-image: image-url("symbols/playback-replay.svg");
		&.over-dark {
			background-image: image-url("symbols/playback-replay-dark.svg");
		}
	}
	.pending-network #{$symbol-class} {
		background-image: image-url("symbols/playback-wait.svg");
		&.over-dark {
			background-image: image-url("symbols/playback-wait-dark.svg");
		}
	}
	.pending-media #{$symbol-class}  {
		background-image: none;
		&.over-dark {
			background-image: none;
		}
	}
	
	.play-toggle-hitarea {
		$size: 50%;//12em; 
		display: block;
		position: absolute;
		// width: $size; height: $size;
		// left: calc(50% - #{$size/2}); top: calc(50% - #{$size/2}); 
		// margin-left: $size/2; margin-top: $size/2;
		width: auto; height: auto;
		top: 1em; bottom: 1em; left: 1em; right: 1em;
		cursor: pointer;
	}
	:not(.pending-media) .play-toggle-hitarea {
		// background-color: rgba(255,0,255,0.2);
	}
	.full-screen-toggle {
		display: inline-block;
		position: absolute;
		// top: 100%; left: 0;
		margin: 1rem #{-$hu};
		padding: 1rem $hu;
		@include small_caps($lead: 1rem);
		top: -4.5rem; right: 0;
		svg {
			display: inline-block;
			vertical-align: middle;
		}
	}
	
	// .playback-symbols
	// - - - - - - - - - - - - - - - - -
	// svg.playback-symbols {
	// 	display: inline-block;
	// 	position: absolute;
	// 	box-sizing: border-box;
	// 	border: 1px solid red
	// 	// margin: 5rem;
	// 	// top: 6rem; bottom: 6rem; left: 6rem; right: 6rem;
	// 	// width: auto; height: auto;
	// }
	// .pending-media svg.playback-symbols {
	// 	display: none;
	// }
	// 
	// .symbol-shape { fill: rgb(255,255,255); }
	// .symbol-box { fill: rgb(0,0,0); }
	// .over-dark {
	// 	.symbol-shape { fill: rgb(0,0,0); }
	// 	.symbol-box { fill: rgb(255,255,255); }
	// }
	// .play-symbol, .pending-user-replay .replay-symbol {
	// 	// visibility: visible;
	// 	// opacity: 1;
	// 	display: inline;
	// }
	// .replay-symbol, .pending-user-replay .play-symbol {
	// 	// visibility: hidden;
	// 	// opacity: 0;
	// 	display: none;
	// }
}

// VideoRenderer
// - - - - - - - - - - - - - - - - - -
.video-renderer {
	.content {
		// overflow: hidden;
	}
	.crop-box {
		overflow: hidden;
	}
	// video {
	// 	margin-top: -1px;
	// }
	video, img.poster {
		position: absolute;
		top: -1px; left: 0;
	}
	.poster {
		visibility: hidden;
	}
	.not-played .poster {
		visibility: visible;
	}
	video:focus {
		outline: 0 none;
	}
	video:fullscreen,
	video:-webkit-full-screen,
	video:-moz-full-screen,
	video:-ms-fullscreen {
		background-color: transparent;
	}
}

// SequenceRenderer
// - - - - - - - - - - - - - - - - - -
.sequence-renderer {
	// .sequence {
	// 	position: absolute;
	// 	width: 100%; height: 100%;
	// }
	.sequence-step {
		position: absolute;
		top: 0; left: 0;
		width: 100%; height: 100%;
		
		transition-duration: $duration * 2;
		transition-delay: 0.001s;
		transition-property: opacity, visibility;
		
		transition-timing-function: step-end;
		opacity: 0;
		visibility: hidden;
		z-index: 0;
		
		&.current {
			transition-timing-function: $ease, step-start;
			opacity: 1;
			visibility: visible;
			z-index: 1;
		}
	}
	.progress-meter {
		z-index: 3;
	}
	.overlay {
		z-index: 2;
	}
	// .progress-meter
	// - - - - - - - - - - - - - - - - -
	.progress-meter {
		position: absolute;
		width: 2rem;
		height: 2rem;
		// & > svg {
		// 	width: 100%;
		// 	height: 100%;
		// 	display: block;
		// }
		// #steps-track {}
		// #steps {}
		// #amount {}
		// #step-label {}
		// #pause-symbol{}
	}
	// .progress-meter {
	// 	text-align: center;
	// 	position: absolute;
	// }
	// &:not(.selected) .progress-meter {
	// 	display: none;
	// }
	// .progress-meter #pause {
	// 	// visibility: hidden; 
	// 	// display: none;
	// }
	// .pending-media .progress-meter {
	// 	#step-label { visibility: visible; }
	// 	#pause { visibility: hidden; }
	// }
	// .pending-user .progress-meter {
	// 	#step-label { visibility: hidden; }
	// 	#pause { visibility: visible; }
	// }
}

.video-renderer .debug-log {
	display: none;
	// visibility: hidden;
}
.video-renderer.selected .debug-log {
	display: block;
	// visibility: visible;
	box-sizing: border-box;
	font: 10px/11px monospace;
	position: absolute;
	width: 100%;
	max-height: 100%;
	overflow: auto;
	margin: 4.5rem 20px 1.5rem;
	padding: 0.5rem 10px;
	& > pre {
		display: inline-block;
		float: left; clear: left;
		padding: 0;
		&:first-child {
			display: none;
		}
		&::before {
			font-weight: bolder;
			content: attr(data-ev);
			width: 8em;
			display: inline-block;
			padding-right: 1rem;
		}
	}
}


// .playable-renderer .play-button.fontello {
// 	@include fontello_icon_base();
// 	font-size: 2.5rem;
// 	line-height: 1;
// 	
// 	display: block;
// 	position: absolute;
// 	box-sizing: border-box;
// 	left: 50%; top: 50%;
// 	height: 2.5em; width: 2.5em;
// 	margin: -1.25em;
// 	text-align: center;
// 	padding-top: 0.75em;
// 	padding-left: 0.2em; // some icons are a bit off
// 	border-radius: 0.1em;
// 	
// 	color: rgb(0,0,0);
// 	background-color: rgba(255,255,255,0.8);
// 	box-shadow: 0 0 2px -1px currentColor;
// 	@at-root .over-dark .playable-renderer .play-button.fontello {
// 		color: rgb(255,255,255);
// 		background-color: rgba(0,0,0,0.8);
// 	}
// }

// /** .overlay:after */
// .video-renderer {
// 	.overlay:after {
// 		@include small_caps($lead: 1rem);
// 		// color: black;
// 		// background-color: white;
// 		// color: #333;
// 		// background-color: #eee;
// 		position: absolute;
// 		bottom: 0; right: 0;
// 		// top: 0; left: 0;
// 		padding: 0 0.25em;
// 	}
// 	.overlay:after { 
// 		content: "Idle";
// 	}
// 	.pending-network .overlay:after {
// 		content: "Network";
// 	}
// 	.pending-media .overlay:after {
// 		content: "Media";
// 	}
// 	.pending-user-replay .overlay:after {
// 		content: "Replay";
// 	}
// 	.pending-user-resume .overlay:after {
// 		content: "Resume";
// 	}
// 	.pending-user-play .overlay:after {
// 		content: "Play";
// 	}
// }
