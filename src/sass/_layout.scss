/*
 * Layout
 */
$breakpoint-large: 1024px;
$page-width: 740px;
$page-width-large: 960px;
$page-margin: 40px;
$gutter: 20px;
$footer-height: 6rem;

@mixin col-full-margins() {
	margin-left: $page-margin;
	margin-right: $page-margin;
}
@mixin full-width() {
	@include col-full-margins;
}
@mixin col-full() {
	margin-left: $page-margin;
	margin-right: $page-margin;
	width: calc(100% - #{$page-margin * 2});
}
@mixin col-left-rel() {
	// margin-right: calc(38% + #{$gutter/2});
	// margin-left: $page-margin; width: calc(62% - #{$page-margin + $gutter/2});
	margin-left: 0; width: calc(62% - #{$gutter/2});
}
@mixin col-right-rel() {
	float: right;
	// margin-right: $page-margin; width: calc(38% - #{$page-margin + $gutter/2});
	margin-right: 0; width: calc(38% - #{$gutter/2});
}
@mixin col-left-abs() {
	position: absolute;
	// left: $page-margin; width: calc(62% - #{$page-margin + $gutter/2});
	left: 0; width: calc(62% - #{$gutter/2});
}
@mixin col-right-abs() {
	position: absolute;
	// right: $page-margin; width: calc(38% - #{$page-margin + $gutter/2});
	right: 0; width: calc(38% - #{$gutter/2});
}

/* ---------------------- *
 * Wrapper
 * ---------------------- */
#container {
	width: 100%;
	display: block;
}

/* ---------------------- *
 * Footer stuff
 * ---------------------- */
// from: folio.scss @import "compass/layout";
// @include sticky-footer( 6em, "#container", "#container-footer", "#footer" );
/* compass-core-1.0.1/stylesheets/compass/layout/_sticky-footer.scss */
html, body {
  height: 100%;
}
#container {
  clear: both;
  min-height: 100%;
  height: auto !important;
  height: 100%;
  margin-bottom: -$footer-height;
}
#container #container-footer {
  height: $footer-height;
}
#footer {
  clear: both;
  position: relative;
  height: $footer-height;
}

/* ---------------------- *
 *	View Layout
 * ---------------------- */

#header,
#navigation,
#container-footer,
#footer {
	margin: 0 auto;
	padding-left: $page-margin;
	padding-right: $page-margin;
	// width: $page-width;

	width: #{$page-width - $page-margin*2};
	@media only screen and (min-width: $breakpoint-large) {
		// width: $page-width-large;
		width: #{$page-width-large - $page-margin*2};
	}
}

#header {
	// @include full-width;
	position: relative;
	padding-top: 3.5rem;
	padding-bottom: 1rem;
}

#navigation {
	// @include full-width;
	position: relative;
}
#bundle-list {
	@include col-left-rel;
}
#keyword-list {
	@include col-right-rel;
}

#content.viewport {
	position: relative;
	// margin: 0 auto; width: $page-width;
}
#bundle-images.image-list {
	// position: static;
	position: relative;
}
#bundle-detail {
	width: #{$page-width - $page-margin*2};
	padding: 1rem $page-margin;
	margin: 0 auto;
	height: 6rem;
	// @include box-sizing(border-box);
	@media only screen and (min-width: $breakpoint-large) {
		position: absolute;
		width: #{$page-width-large - $page-width - $page-margin};
		left: calc(50% - #{$page-width-large/2});
		height: calc(100% - 2rem);
	}
}

#bundle-pager {
	position: fixed;
	bottom: 0.5rem;

	width: #{$page-width - $page-margin*2};
	left: calc(50% - #{$page-width/2 - $page-margin});
	@media only screen and (min-width: $breakpoint-large) {
		width: #{$page-width-large - $page-margin*2};
		left: calc(50% - #{$page-width-large/2 - $page-margin});
	}
}

/*
 * App States
 */
$apptx-duration: 0.35s;

// Navigation
#navigation {
	min-height: 9rem;
	height: auto;
}
.app-bundle-list #navigation {
	transition: height $apptx-duration step-end;
}
.app-bundle-item #navigation {
	transition: height $apptx-duration step-start;
	height: 9rem;
}

// Bundle pager
#bundle-pager {
	visibility: hidden;
}
.app-bundle-item #bundle-pager {
	visibility: visible;
}

// Content
#content {
	opacity: 0;
	visibility: hidden;
	max-height: 0;
}
.app-bundle-list #content {
	transition:
		opacity $apptx-duration ease,
		visibility $apptx-duration step-end,
		max-height $apptx-duration step-start;
}
.app-bundle-item #content {
	transition:
		opacity $apptx-duration ease,
		visibility $apptx-duration step-start,
		max-height $apptx-duration step-end;
	opacity: 1;
	visibility: visible;
	max-height: none;
}
