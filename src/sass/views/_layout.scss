/*
 * Layout
 */
$breakpoint-large: 1024px;
$page-width: 740px;
$page-width-large: 960px;
$page-margin: 20px;
$gutter: 20px;
$footer-height: 8rem;

@mixin col-full-margins() {
	margin-left: $page-margin;
	margin-right: $page-margin;
}
@mixin full-width() {
	@include col-full-margins;
}
@mixin col-full() {
	margin-left: $page-margin;
	margin-right: $page-margin;
	width: calc(100% - #{$page-margin * 2});
}
@mixin col-left-rel() {
	// margin-right: calc(38% + #{$gutter/2});
	// margin-left: $page-margin; width: calc(62% - #{$page-margin + $gutter/2});
	margin-left: 0;
	width: calc(62% - #{$gutter/2});
}
@mixin col-right-rel() {
	float: right;
	// margin-right: $page-margin; width: calc(38% - #{$page-margin + $gutter/2});
	margin-right: 0;
	width: calc(38% - #{$gutter/2});
}
@mixin col-left-abs() {
	position: absolute;
	// left: $page-margin; width: calc(62% - #{$page-margin + $gutter/2});
	left: 0; width: calc(62% - #{$gutter/2});
}
@mixin col-right-abs() {
	position: absolute;
	// right: $page-margin; width: calc(38% - #{$page-margin + $gutter/2});
	right: 0; width: calc(38% - #{$gutter/2});
}

/* ---------------------- *
 * Vertical flow
 * ---------------------- */
// from: folio.scss @import "compass/layout";
// @include sticky-footer( 6em, "#container", "#container-footer", "#footer" );
/* compass-core-1.0.1/stylesheets/compass/layout/_sticky-footer.scss */
html, body {
	height: 100%;
}

#container {
	clear: both;
	min-height: 100%;
	height: auto !important;
	height: 100%;
	margin-bottom: -$footer-height;
}

#container #container-footer {
	height: $footer-height;
}

#footer {
	clear: both;
	position: relative;
	height: $footer-height;
}

/* ---------------------- *
 * Wrapper
 * ---------------------- */

#container {
	width: 100%;
	display: block;
}

/* ---------------------- *
 *	View Layout
 * ---------------------- */

#header,
#navigation,
#container-footer,
#footer {
	margin: 0 auto;
	padding-left: $page-margin;
	padding-right: $page-margin;
	width: #{$page-width - $page-margin*2};
	@media only screen and (min-width: $breakpoint-large) {
		width: #{$page-width-large - $page-margin*2};
	}
}

#navigation {
	position: relative;
}

#bundle-list {
	@include col-left-rel;
}

#keyword-list {
	@include col-right-rel;
}

#content.viewport {
	position: relative;
}

#bundle-images {
	position: relative;
}

#bundle-detail {
	overflow: hidden;
	padding: 1.25rem $page-margin;

	display: none;
	// margin: 0 auto;
	// width: #{$page-width - $page-margin*2};
	// height: 6rem;
	// @include box-sizing(border-box);
	@media only screen and (min-width: $breakpoint-large) {
		display: block;
		position: absolute;
		width: #{$page-width-large - $page-width - $page-margin};
		right: calc(50% - #{$page-width-large/2});
		max-height: calc(100% - 2.5rem);
		// top: 0;
	}
}

#image-detail,
#images-pager {
	@include box-sizing(border-box);
	display: block;
	position: absolute;
	bottom: 100%;
	padding: 0 $page-margin;
	width: $page-width;
	left: calc(50% - #{$page-width/2});
	@media only screen and (min-width: $breakpoint-large) {
		width: $page-width-large;
		left: calc(50% - #{$page-width-large/2});
		padding-right: #{$page-width-large - $page-width + $page-margin};
	}
}
#image-detail {
	text-align: left;
}
#images-pager {
	text-align: right;
}

/*
 * App States
 */
$apptx-duration: 0.35s;

#header {
	position: relative;
	padding-top: 3.5rem;
	padding-bottom: 1rem;
}
#site-name {
	display: inline-block;
	transition: transform $apptx-duration;
	transform: translate3d(-2px,0,0);
}
.app-bundle-item #site-name {
	transform: translate3d(calc(-100% - #{$gutter}),0,0);
}

#navigation {
	transition: transform $apptx-duration;
	// transition-duration: $apptx-duration;
	// transition-property: transform, height;
	// transition-timing-function: ease, step-end;
}
.app-bundle-list #navigation {
	// transition-timing-function: ease, step-end;
}
.app-bundle-item #navigation {
	// transition-timing-function: ease, step-start;
	transform: translate3d(0,-3.75em,0);
}

// Navigation
#navigation {
	min-height: 9rem;
	height: auto;
	visibility: hidden;
	opacity: 0;
}
.app-bundle-list #navigation {
	height: auto;
	visibility: visible;
	opacity: 1;
}
.app-bundle-item #navigation {
	height: 9rem;
	visibility: visible;
	opacity: 1;
}

// Content
#content {
	// opacity: 0;
	// visibility: hidden;
	max-height: 0;
}
.app-bundle-list #content {
	// transition:
		// opacity $apptx-duration ease,
		// visibility $apptx-duration step-end,
		// max-height $apptx-duration step-start;
	max-height: 0;
}
.app-bundle-item #content {
	// transition:
		// opacity $apptx-duration ease,
		// visibility $apptx-duration step-start,
		// max-height $apptx-duration step-end;
	// opacity: 1;
	// visibility: visible;
	max-height: none;
}

body {
	transition:
		color $apptx-duration 0.35s steps(6),
		background-color $apptx-duration 0.35s linear;
}
